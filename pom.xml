<?xml version="1.0"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"
         xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <modelVersion>4.0.0</modelVersion>

  <groupId>org.pentaho</groupId>
  <artifactId>pdi-parent</artifactId>
  <version>8.0-SNAPSHOT</version>
  <packaging>pom</packaging>

  <name>Pentaho Data Integration</name>
  <description>Container pom for Pentaho Data Integration modules</description>
  <url>http://www.pentaho.com</url>

  <parent>
    <groupId>org.pentaho</groupId>
    <artifactId>pentaho-ce-jar-parent-pom</artifactId>
    <version>8.0-SNAPSHOT</version>
  </parent>

  <scm>
    <developerConnection>scm:git:git@github.com:pentaho/pentaho-kettle.git</developerConnection>
    <tag>HEAD</tag>
  </scm>

  <properties>
    <maven.build.timestamp.format>yyyy-MM-dd hh.mm.ss</maven.build.timestamp.format>

    <mockito-all.version>1.9.5</mockito-all.version>
  </properties>

  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>org.mockito</groupId>
        <artifactId>mockito-all</artifactId>
        <version>${mockito-all.version}</version>
        <scope>test</scope>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
    </dependencies>
  </dependencyManagement>

  <build>
    <plugins>
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
      </plugin>
      <plugin>
        <artifactId>maven-jar-plugin</artifactId>
        <configuration>
          <archive>
            <manifestEntries>
              <Compile-Timestamp>${maven.build.timestamp}</Compile-Timestamp>
              <Compile-User>${user.name}</Compile-User>
              <Implementation-ProductID>${project.artifactId}</Implementation-ProductID>
            </manifestEntries>
          </archive>
        </configuration>
      </plugin>
    </plugins>
  </build>

  <profiles>
    <profile>
      <id>base</id>
      <activation>
        <property>
          <name>!skipDefault</name>
        </property>
      </activation>
      <modules>
        <module>pdi-engine</module>
        <module>core</module>
        <module>engine</module>
        <module>dbdialog</module>
        <module>ui</module>
      </modules>
    </profile>
    <profile>
      <id>assemblies</id>
      <activation>
        <property>
          <name>!skipDefault</name>
        </property>
      </activation>
      <modules>
        <module>assemblies</module>
      </modules>
    </profile>
    <profile>
      <id>integration-tests</id>
      <activation>
        <property>
          <name>runITs</name>
        </property>
      </activation>
      <modules>
        <module>integration</module>
      </modules>
    </profile>
  </profiles>
</project>
